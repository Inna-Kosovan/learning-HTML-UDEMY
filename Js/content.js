function scrollMobileDevice(e){switch(e){case"up":$("body").scrollTo($("body").scrollTop()-400);break;case"down":$("body").scrollTo($("body").scrollTop()+400)}}var _mobileDevice="",_isSwipe=!0;$.fn.scrollTo=function(e,o,l){"function"==typeof o&&2==arguments.length&&(l=o,o=e);var s=$.extend({scrollTarget:e,offsetTop:50,duration:500,easing:"swing"},o);return this.each(function(){var e=$(this),o="number"==typeof s.scrollTarget?s.scrollTarget:$(s.scrollTarget),t="number"==typeof o?o:o.offset().top+e.scrollTop()-parseInt(s.offsetTop);e.animate({scrollTop:t},parseInt(s.duration),s.easing,function(){"function"==typeof l&&l.call(this)})})},chrome.extension.onMessage.addListener(function(e,o,l){void 0!=e.mobileDevice&&void 0===$(".mobiletest-div").html()&&"notset"!=e.mobileDevice&&(-1==e.userAgent.toUpperCase().indexOf("CHROME")||e.userAgent.toUpperCase().indexOf("CHROME")>0&&e.userAgent.toUpperCase().indexOf("ANDROID")>0)&&(_mobileDevice=e.mobileDevice,_isSwipe=e.swipe,$("html").addClass("mobiletest-html"))}),$(document).ready(function(){var e=0,o=setInterval(function(){$("html").hasClass("mobiletest-html")?(_isSwipe?($("html").css("cursor","pointer"),$("html").css("overflow","hidden"),$(document).mousewheel(function(e,o,l,s){var t=$(this).scrollTop();$(this).scrollTop(t-100*o)})):($("html").css("cursor","default"),$("html").css("overflow-y","auto"),$("html").css("overflow-x","hidden")),void 0===$(".mobiletest-div").html()&&($("body").append('<div class="mobiletest-div"><a href="javascript:void(0);" class="mobiletest-back-a">←</a><div>'+_mobileDevice+'</div>\x3c!--<a href="javascript:void(0);" class="mobiletest-scrollup-a" id="lnkUp">↑</a><a class="mobiletest-scrolldown-a" href="javascript:void(0);" id="lnkDown">↓</a>--\x3e</div>'),history.length>0&&$(".mobiletest-back-a").show()),clearInterval(o)):(e>20&&clearInterval(o),e+=1)},500)}),$(document).on("click","a",function(e){"↑"==$(this).html()?scrollMobileDevice("up"):"↓"==$(this).html()?scrollMobileDevice("down"):"←"==$(this).html()&&history.back()});var clicked=!1,clickY,clickX;$(document).on({mousemove:function(e){_isSwipe&&clicked&&updateScrollPos(e)},mousedown:function(e){_isSwipe&&(clicked=!0,clickY=e.pageY,clickX=e.pageX)},mouseup:function(){_isSwipe&&(clicked=!1,$("html").hasClass("mobiletest-html")&&$("html").css("cursor","pointer"))}});var updateScrollPos=function(e){$("html").hasClass("mobiletest-html")&&($("html").css("cursor","row-resize"),$(window).scrollTop($(window).scrollTop()+(clickY-e.pageY)),$(window).scrollLeft($(window).scrollLeft()+(clickX-e.pageX)))};